{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\licos\\\\WebstormProjects\\\\react\\\\react0906\\\\src\\\\components\\\\Content\\\\Profile\\\\ProfileContainer.jsx\";\nimport React from 'react';\nimport Content from \"../Content\";\nimport * as axios from \"axios\";\nimport { connect } from \"react-redux\";\nimport { addRequestedUserIdActionCreator, getProfileThunkCreator, getStatusThunkCreator, getUserInfoActionCreator, isFetchingActionCreator, updateStatusThunkCreator } from \"../../../Redux/content-reducer\";\nimport Loader from \"./../../Users/loader\";\nimport { Redirect, Route } from 'react-router-dom';\nimport { withRouter } from \"react-router-dom\";\nimport { getProfile, usersAPI } from \"../../../API/api\";\nimport { withAuthRedirect } from \"../../../HOC/withAuthRedirect\";\nimport { compose } from \"redux\";\n\nclass ProfileClass extends React.Component {\n  constructor(props) {\n    super(props);\n  }\n\n  componentDidMount() {\n    let userID = !this.props.match.params.UserID ? this.props.authUserID : this.props.match.params.UserID;\n\n    if (!userID) {\n      this.props.history.push('/login');\n    }\n\n    console.log('userID', userID);\n    this.props.getProfileThunkCreator(userID);\n    this.props.getStatusThunkCreator(userID);\n  }\n\n  componentDidUpdate(prevProps, prevState, snapshot) {\n    if (prevProps.match.params.UserID !== this.props.match.params.UserID) {\n      let currentUserID = this.props.match.params.UserID;\n      this.props.getProfileThunkCreator(!currentUserID ? this.props.authUserID : currentUserID);\n      this.props.getStatusThunkCreator(!currentUserID ? this.props.authUserID : currentUserID);\n    }\n  }\n\n  render() {\n    if (this.props.isFetching) {\n      return /*#__PURE__*/React.createElement(Loader, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 20\n        }\n      });\n    }\n\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 13\n      }\n    }, this.props.userInfo === null ? /*#__PURE__*/React.createElement(Loader, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 49\n      }\n    }) : /*#__PURE__*/React.createElement(Content, Object.assign({}, this.props, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 61\n      }\n    })));\n  }\n\n} //let AuthRedirectComponent = withAuthRedirect(ProfileClass)\n\n\nlet mapStateToProps = state => {\n  console.log(state);\n  return {\n    userInfo: state.myPosts.userInfo,\n    requestUserId: state.myPosts.requestUserId,\n    authUserID: state.auth.userID,\n    status: state.myPosts.status,\n    isFetching: state.myPosts.isFetching,\n    currentUserID: state.users.currentUserID\n  };\n};\n\nlet mapDispatchToProps = dispatch => {\n  return {\n    getUserInfo: userInfo => {\n      dispatch(getUserInfoActionCreator(userInfo));\n    },\n    addRequestedUserId: () => {\n      dispatch(addRequestedUserIdActionCreator());\n    },\n    getProfileThunkCreator: userID => {\n      dispatch(getProfileThunkCreator(userID));\n    },\n    getStatusThunkCreator: userID => {\n      dispatch(getStatusThunkCreator(userID));\n    },\n    updateStatusThunkCreator: status => {\n      dispatch(updateStatusThunkCreator(status));\n    },\n    changeProfilePhotoOnServer: files => {\n      dispatch(changeProfilePhotoOnServerTC(files));\n    }\n  };\n};\n\nconst ProfileContainer = compose(connect(mapStateToProps, mapDispatchToProps), withRouter, withAuthRedirect)(ProfileClass); //let withRouterDataContainerComponent = withRouter(AuthRedirectComponent)\n//const ProfileContainer = connect(mapStateToProps,mapDispatchToProps)(withRouterDataContainerComponent)\n\nexport default ProfileContainer;","map":{"version":3,"sources":["C:/Users/licos/WebstormProjects/react/react0906/src/components/Content/Profile/ProfileContainer.jsx"],"names":["React","Content","axios","connect","addRequestedUserIdActionCreator","getProfileThunkCreator","getStatusThunkCreator","getUserInfoActionCreator","isFetchingActionCreator","updateStatusThunkCreator","Loader","Redirect","Route","withRouter","getProfile","usersAPI","withAuthRedirect","compose","ProfileClass","Component","constructor","props","componentDidMount","userID","match","params","UserID","authUserID","history","push","console","log","componentDidUpdate","prevProps","prevState","snapshot","currentUserID","render","isFetching","userInfo","mapStateToProps","state","myPosts","requestUserId","auth","status","users","mapDispatchToProps","dispatch","getUserInfo","addRequestedUserId","changeProfilePhotoOnServer","files","changeProfilePhotoOnServerTC","ProfileContainer"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SACIC,+BADJ,EAEIC,sBAFJ,EAE4BC,qBAF5B,EAGIC,wBAHJ,EAG8BC,uBAH9B,EAGuDC,wBAHvD,QAIO,gCAJP;AAKA,OAAOC,MAAP,MAAmB,sBAAnB;AACA,SAAQC,QAAR,EAAkBC,KAAlB,QAA8B,kBAA9B;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,SAAQC,UAAR,EAAoBC,QAApB,QAAmC,kBAAnC;AACA,SAAQC,gBAAR,QAA+B,+BAA/B;AACA,SAAQC,OAAR,QAAsB,OAAtB;;AAGA,MAAMC,YAAN,SAA2BlB,KAAK,CAACmB,SAAjC,CAA2C;AAEvCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACH;;AAGDC,EAAAA,iBAAiB,GAAG;AAChB,QAAIC,MAAM,GAAI,CAAC,KAAKF,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBC,MAAzB,GAAkC,KAAKL,KAAL,CAAWM,UAA7C,GAA0D,KAAKN,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBC,MAAhG;;AACA,QAAI,CAACH,MAAL,EAAa;AACT,WAAKF,KAAL,CAAWO,OAAX,CAAmBC,IAAnB,CAAwB,QAAxB;AACH;;AACDC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBR,MAAtB;AACA,SAAKF,KAAL,CAAWhB,sBAAX,CAAkCkB,MAAlC;AACA,SAAKF,KAAL,CAAWf,qBAAX,CAAiCiB,MAAjC;AACH;;AACDS,EAAAA,kBAAkB,CAACC,SAAD,EAAYC,SAAZ,EAAuBC,QAAvB,EAAiC;AAE/C,QAAIF,SAAS,CAACT,KAAV,CAAgBC,MAAhB,CAAuBC,MAAvB,KAAkC,KAAKL,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBC,MAA9D,EAAsE;AAClE,UAAIU,aAAa,GAAG,KAAKf,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,CAAwBC,MAA5C;AACA,WAAKL,KAAL,CAAWhB,sBAAX,CAAkC,CAAC+B,aAAD,GAAiB,KAAKf,KAAL,CAAWM,UAA5B,GAAyCS,aAA3E;AACA,WAAKf,KAAL,CAAWf,qBAAX,CAAiC,CAAC8B,aAAD,GAAiB,KAAKf,KAAL,CAAWM,UAA5B,GAAyCS,aAA1E;AACH;AACJ;;AAEDC,EAAAA,MAAM,GAAG;AACL,QAAI,KAAKhB,KAAL,CAAWiB,UAAf,EAA2B;AACvB,0BAAO,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACH;;AACD,wBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK,KAAKjB,KAAL,CAAWkB,QAAX,KAAwB,IAAxB,gBAA+B,oBAAC,MAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA/B,gBAA2C,oBAAC,OAAD,oBAAa,KAAKlB,KAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OADhD,CADJ;AAOH;;AApCsC,C,CAuC3C;;;AAEA,IAAImB,eAAe,GAAIC,KAAD,IAAW;AAC7BX,EAAAA,OAAO,CAACC,GAAR,CAAYU,KAAZ;AACA,SAAO;AACHF,IAAAA,QAAQ,EAAEE,KAAK,CAACC,OAAN,CAAcH,QADrB;AAEHI,IAAAA,aAAa,EAAEF,KAAK,CAACC,OAAN,CAAcC,aAF1B;AAGHhB,IAAAA,UAAU,EAAEc,KAAK,CAACG,IAAN,CAAWrB,MAHpB;AAIHsB,IAAAA,MAAM,EAACJ,KAAK,CAACC,OAAN,CAAcG,MAJlB;AAKHP,IAAAA,UAAU,EAAEG,KAAK,CAACC,OAAN,CAAcJ,UALvB;AAMHF,IAAAA,aAAa,EAAEK,KAAK,CAACK,KAAN,CAAYV;AANxB,GAAP;AASH,CAXD;;AAaA,IAAIW,kBAAkB,GAAIC,QAAD,IAAc;AACnC,SAAO;AACHC,IAAAA,WAAW,EAAGV,QAAD,IAAc;AAACS,MAAAA,QAAQ,CAACzC,wBAAwB,CAACgC,QAAD,CAAzB,CAAR;AAA6C,KADtE;AAEHW,IAAAA,kBAAkB,EAAE,MAAM;AAACF,MAAAA,QAAQ,CAAC5C,+BAA+B,EAAhC,CAAR;AAA4C,KAFpE;AAGHC,IAAAA,sBAAsB,EAAGkB,MAAD,IAAY;AAACyB,MAAAA,QAAQ,CAAC3C,sBAAsB,CAACkB,MAAD,CAAvB,CAAR;AAAyC,KAH3E;AAIHjB,IAAAA,qBAAqB,EAAGiB,MAAD,IAAY;AAACyB,MAAAA,QAAQ,CAAC1C,qBAAqB,CAACiB,MAAD,CAAtB,CAAR;AAAwC,KAJzE;AAKHd,IAAAA,wBAAwB,EAAGoC,MAAD,IAAY;AAACG,MAAAA,QAAQ,CAACvC,wBAAwB,CAACoC,MAAD,CAAzB,CAAR;AAA2C,KAL/E;AAMHM,IAAAA,0BAA0B,EAAGC,KAAD,IAAW;AAACJ,MAAAA,QAAQ,CAACK,4BAA4B,CAACD,KAAD,CAA7B,CAAR;AAA8C;AANnF,GAAP;AAQH,CATD;;AAUA,MAAME,gBAAgB,GAAGrC,OAAO,CAC5Bd,OAAO,CAACqC,eAAD,EAAiBO,kBAAjB,CADqB,EAE5BlC,UAF4B,EAG5BG,gBAH4B,CAAP,CAIvBE,YAJuB,CAAzB,C,CAMA;AACA;;AAEA,eAAeoC,gBAAf","sourcesContent":["import React from 'react'\r\nimport Content from \"../Content\";\r\nimport * as axios from \"axios\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    addRequestedUserIdActionCreator,\r\n    getProfileThunkCreator, getStatusThunkCreator,\r\n    getUserInfoActionCreator, isFetchingActionCreator, updateStatusThunkCreator\r\n} from \"../../../Redux/content-reducer\";\r\nimport Loader from \"./../../Users/loader\";\r\nimport {Redirect, Route} from 'react-router-dom'\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {getProfile, usersAPI} from \"../../../API/api\";\r\nimport {withAuthRedirect} from \"../../../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileClass extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        let userID = (!this.props.match.params.UserID ? this.props.authUserID : this.props.match.params.UserID)\r\n        if (!userID) {\r\n            this.props.history.push('/login')\r\n        }\r\n        console.log('userID', userID)\r\n        this.props.getProfileThunkCreator(userID)\r\n        this.props.getStatusThunkCreator(userID)\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n        if (prevProps.match.params.UserID !== this.props.match.params.UserID) {\r\n            let currentUserID = this.props.match.params.UserID\r\n            this.props.getProfileThunkCreator(!currentUserID ? this.props.authUserID : currentUserID)\r\n            this.props.getStatusThunkCreator(!currentUserID ? this.props.authUserID : currentUserID)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.props.isFetching) {\r\n            return <Loader/>\r\n        }\r\n        return (\r\n            <div>\r\n                {this.props.userInfo === null ? <Loader/> : <Content {...this.props}/>}\r\n            </div>\r\n        )\r\n\r\n\r\n    }\r\n}\r\n\r\n//let AuthRedirectComponent = withAuthRedirect(ProfileClass)\r\n\r\nlet mapStateToProps = (state) => {\r\n    console.log(state);\r\n    return {\r\n        userInfo: state.myPosts.userInfo,\r\n        requestUserId: state.myPosts.requestUserId,\r\n        authUserID: state.auth.userID,\r\n        status:state.myPosts.status,\r\n        isFetching: state.myPosts.isFetching,\r\n        currentUserID: state.users.currentUserID\r\n\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getUserInfo: (userInfo) => {dispatch(getUserInfoActionCreator(userInfo))},\r\n        addRequestedUserId: () => {dispatch(addRequestedUserIdActionCreator())},\r\n        getProfileThunkCreator: (userID) => {dispatch(getProfileThunkCreator(userID))},\r\n        getStatusThunkCreator: (userID) => {dispatch(getStatusThunkCreator(userID))},\r\n        updateStatusThunkCreator: (status) => {dispatch(updateStatusThunkCreator(status))},\r\n        changeProfilePhotoOnServer: (files) => {dispatch(changeProfilePhotoOnServerTC(files))}\r\n         }\r\n}\r\nconst ProfileContainer = compose(\r\n    connect(mapStateToProps,mapDispatchToProps),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileClass)\r\n\r\n//let withRouterDataContainerComponent = withRouter(AuthRedirectComponent)\r\n//const ProfileContainer = connect(mapStateToProps,mapDispatchToProps)(withRouterDataContainerComponent)\r\n\r\nexport default ProfileContainer"]},"metadata":{},"sourceType":"module"}