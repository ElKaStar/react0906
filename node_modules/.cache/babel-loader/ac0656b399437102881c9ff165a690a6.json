{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\licos\\\\WebstormProjects\\\\react\\\\react0906\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\licos\\\\WebstormProjects\\\\react\\\\react0906\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\licos\\\\WebstormProjects\\\\react\\\\react0906\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\licos\\\\WebstormProjects\\\\react\\\\react0906\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import Content from\"../Content\";import*as axios from\"axios\";import{connect}from\"react-redux\";import{addRequestedUserIdActionCreator,getProfileThunkCreator as _getProfileThunkCreator,getStatusThunkCreator as _getStatusThunkCreator,getUserInfoActionCreator,isFetchingActionCreator,updateStatusThunkCreator as _updateStatusThunkCreator}from\"../../../Redux/content-reducer\";import Loader from\"./../../Users/loader\";import{Redirect,Route}from'react-router-dom';import{withRouter}from\"react-router-dom\";import{getProfile,usersAPI}from\"../../../API/api\";import{withAuthRedirect}from\"../../../HOC/withAuthRedirect\";import{compose}from\"redux\";var ProfileClass=/*#__PURE__*/function(_React$Component){_inherits(ProfileClass,_React$Component);var _super=_createSuper(ProfileClass);function ProfileClass(props){_classCallCheck(this,ProfileClass);return _super.call(this,props);}_createClass(ProfileClass,[{key:\"componentDidMount\",value:function componentDidMount(){var userID=!this.props.match.params.UserID?this.props.authUserID:this.props.match.params.UserID;if(!userID){this.props.history.push('/login');}console.log('userID',userID);this.props.getProfileThunkCreator(userID);this.props.getStatusThunkCreator(userID);}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps,prevState,snapshot){if(prevProps.match.params.UserID!==this.props.match.params.UserID){var currentUserID=this.props.match.params.UserID;this.props.getProfileThunkCreator(!currentUserID?this.props.authUserID:currentUserID);this.props.getStatusThunkCreator(!currentUserID?this.props.authUserID:currentUserID);}}},{key:\"render\",value:function render(){if(this.props.isFetching){return/*#__PURE__*/React.createElement(Loader,null);}return/*#__PURE__*/React.createElement(\"div\",null,this.props.userInfo===null?/*#__PURE__*/React.createElement(Loader,null):/*#__PURE__*/React.createElement(Content,this.props));}}]);return ProfileClass;}(React.Component);//let AuthRedirectComponent = withAuthRedirect(ProfileClass)\nvar mapStateToProps=function mapStateToProps(state){console.log(state);return{userInfo:state.myPosts.userInfo,requestUserId:state.myPosts.requestUserId,authUserID:state.auth.userID,status:state.myPosts.status,isFetching:state.myPosts.isFetching,currentUserID:state.users.currentUserID};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getUserInfo:function getUserInfo(userInfo){dispatch(getUserInfoActionCreator(userInfo));},addRequestedUserId:function addRequestedUserId(){dispatch(addRequestedUserIdActionCreator());},getProfileThunkCreator:function getProfileThunkCreator(userID){dispatch(_getProfileThunkCreator(userID));},getStatusThunkCreator:function getStatusThunkCreator(userID){dispatch(_getStatusThunkCreator(userID));},updateStatusThunkCreator:function updateStatusThunkCreator(status){dispatch(_updateStatusThunkCreator(status));}};};var ProfileContainer=compose(connect(mapStateToProps,mapDispatchToProps),withRouter,withAuthRedirect)(ProfileClass);//let withRouterDataContainerComponent = withRouter(AuthRedirectComponent)\n//const ProfileContainer = connect(mapStateToProps,mapDispatchToProps)(withRouterDataContainerComponent)\nexport default ProfileContainer;","map":{"version":3,"sources":["C:/Users/licos/WebstormProjects/react/react0906/src/components/Content/Profile/ProfileContainer.jsx"],"names":["React","Content","axios","connect","addRequestedUserIdActionCreator","getProfileThunkCreator","getStatusThunkCreator","getUserInfoActionCreator","isFetchingActionCreator","updateStatusThunkCreator","Loader","Redirect","Route","withRouter","getProfile","usersAPI","withAuthRedirect","compose","ProfileClass","props","userID","match","params","UserID","authUserID","history","push","console","log","prevProps","prevState","snapshot","currentUserID","isFetching","userInfo","Component","mapStateToProps","state","myPosts","requestUserId","auth","status","users","mapDispatchToProps","dispatch","getUserInfo","addRequestedUserId","ProfileContainer"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Content from \"../Content\";\r\nimport * as axios from \"axios\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    addRequestedUserIdActionCreator,\r\n    getProfileThunkCreator, getStatusThunkCreator,\r\n    getUserInfoActionCreator, isFetchingActionCreator, updateStatusThunkCreator\r\n} from \"../../../Redux/content-reducer\";\r\nimport Loader from \"./../../Users/loader\";\r\nimport {Redirect, Route} from 'react-router-dom'\r\nimport {withRouter} from \"react-router-dom\";\r\nimport {getProfile, usersAPI} from \"../../../API/api\";\r\nimport {withAuthRedirect} from \"../../../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\n\r\n\r\nclass ProfileClass extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        let userID = (!this.props.match.params.UserID ? this.props.authUserID : this.props.match.params.UserID)\r\n        if (!userID) {\r\n            this.props.history.push('/login')\r\n        }\r\n        console.log('userID', userID)\r\n        this.props.getProfileThunkCreator(userID)\r\n        this.props.getStatusThunkCreator(userID)\r\n    }\r\n    componentDidUpdate(prevProps, prevState, snapshot) {\r\n\r\n        if (prevProps.match.params.UserID !== this.props.match.params.UserID) {\r\n            let currentUserID = this.props.match.params.UserID\r\n            this.props.getProfileThunkCreator(!currentUserID ? this.props.authUserID : currentUserID)\r\n            this.props.getStatusThunkCreator(!currentUserID ? this.props.authUserID : currentUserID)\r\n        }\r\n    }\r\n\r\n    render() {\r\n        if (this.props.isFetching) {\r\n            return <Loader/>\r\n        }\r\n        return (\r\n            <div>\r\n                {this.props.userInfo === null ? <Loader/> : <Content {...this.props}/>}\r\n            </div>\r\n        )\r\n\r\n\r\n    }\r\n}\r\n\r\n//let AuthRedirectComponent = withAuthRedirect(ProfileClass)\r\n\r\nlet mapStateToProps = (state) => {\r\n    console.log(state);\r\n    return {\r\n        userInfo: state.myPosts.userInfo,\r\n        requestUserId: state.myPosts.requestUserId,\r\n        authUserID: state.auth.userID,\r\n        status:state.myPosts.status,\r\n        isFetching: state.myPosts.isFetching,\r\n        currentUserID: state.users.currentUserID\r\n\r\n    }\r\n}\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n        getUserInfo: (userInfo) => {dispatch(getUserInfoActionCreator(userInfo))},\r\n        addRequestedUserId: () => {dispatch(addRequestedUserIdActionCreator())},\r\n        getProfileThunkCreator: (userID) => {dispatch(getProfileThunkCreator(userID))},\r\n        getStatusThunkCreator: (userID) => {dispatch(getStatusThunkCreator(userID))},\r\n        updateStatusThunkCreator: (status) => {dispatch(updateStatusThunkCreator(status))}\r\n         }\r\n}\r\nconst ProfileContainer = compose(\r\n    connect(mapStateToProps,mapDispatchToProps),\r\n    withRouter,\r\n    withAuthRedirect\r\n)(ProfileClass)\r\n\r\n//let withRouterDataContainerComponent = withRouter(AuthRedirectComponent)\r\n//const ProfileContainer = connect(mapStateToProps,mapDispatchToProps)(withRouterDataContainerComponent)\r\n\r\nexport default ProfileContainer"]},"metadata":{},"sourceType":"module"}