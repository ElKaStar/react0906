{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0421\\u0435\\u043C\\u0435\\u043D \\u0422\\u0438\\u0442\\u043E\\u0432\\\\WebstormProjects\\\\react0906\\\\src\\\\components\\\\Users\\\\Users\\u0421.jsx\";\nimport React from 'react';\nimport st from './Users.module.css';\nimport User from \"./User\";\nimport * as axios from 'axios';\nimport Users from './Users';\n\nclass UserClass extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.getUsersFromServer = (pageNumber, pageSize) => {\n      axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${pageNumber}&count=${pageSize}`).then(response => {\n        let newArrUsers = [];\n        response.data.items.map(item => {\n          newArrUsers.push({\n            id: item.id,\n            name: item.name,\n            message: item.status === null ? '' : item.status,\n            url: item.photos.small,\n            follow: item.followed\n          });\n        });\n        debugger;\n        this.props.setUsers(newArrUsers, response.data.totalCount);\n      });\n    };\n\n    this.onPageChanged = itemNumber => {\n      this.props.setCurrentPage(itemNumber);\n      this.getUsersFromServer(itemNumber, this.props.pagingSize);\n    };\n\n    this.onClickNextHandler = nextPage => {\n      this.props.showNextUsers();\n      this.getUsersFromServer(nextPage, this.props.pagingSize);\n    };\n\n    this.onClickLastHandler = lastPage => {\n      this.props.showLastUsers();\n      this.getUsersFromServer(lastPage, this.props.pagingSize);\n    };\n  }\n\n  componentDidMount() {\n    this.getUsersFromServer(this.props.currentPage, this.props.pagingSize);\n  }\n\n  render() {\n    let pageCount = Math.ceil(this.props.totalUsersCount / this.props.pagingSize);\n    debugger;\n    let arrPages = [];\n\n    for (let i = 1; i <= pageCount; i++) {\n      arrPages.push(i);\n    } //let newUsers = this.props.users.slice(this.props.startPosition, this.props.startPosition + this.props.pagingSize)\n\n\n    return /*#__PURE__*/React.createElement(Users, {\n      pageCount: pageCount,\n      arrPages: arrPages,\n      onClickLastHandler: this.onClickLastHandler,\n      onClickNextHandler: this.onClickNextHandler,\n      onPageChanged: this.onPageChanged,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 16\n      }\n    });\n  }\n\n}\n\nexport default UserClass;","map":{"version":3,"sources":["C:/Users/Семен Титов/WebstormProjects/react0906/src/components/Users/UsersС.jsx"],"names":["React","st","User","axios","Users","UserClass","Component","constructor","props","getUsersFromServer","pageNumber","pageSize","get","then","response","newArrUsers","data","items","map","item","push","id","name","message","status","url","photos","small","follow","followed","setUsers","totalCount","onPageChanged","itemNumber","setCurrentPage","pagingSize","onClickNextHandler","nextPage","showNextUsers","onClickLastHandler","lastPage","showLastUsers","componentDidMount","currentPage","render","pageCount","Math","ceil","totalUsersCount","arrPages","i"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport st from './Users.module.css'\r\nimport User from \"./User\";\r\nimport * as axios from 'axios'\r\nimport Users from './Users'\r\n\r\nclass UserClass extends React.Component  {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\n    getUsersFromServer = (pageNumber, pageSize) => {\r\n        axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${pageNumber}&count=${pageSize}`)\r\n            .then(response => {\r\n\r\n                let newArrUsers = []\r\n                response.data.items.map((item) => {\r\n                    newArrUsers.push({\r\n                        id: item.id,\r\n                        name: item.name,\r\n                        message: (item.status === null? '': item.status),\r\n                        url: item.photos.small,\r\n                        follow: item.followed\r\n                    })\r\n                })\r\n                debugger\r\n                this.props.setUsers(newArrUsers, response.data.totalCount)\r\n            })\r\n    }\r\n\r\ncomponentDidMount() {\r\n    this.getUsersFromServer(this.props.currentPage,this.props.pagingSize)\r\n}\r\n\r\n    onPageChanged = (itemNumber) => {\r\n        this.props.setCurrentPage(itemNumber)\r\n        this.getUsersFromServer(itemNumber,this.props.pagingSize)\r\n    }\r\n\r\n\r\n\r\n    onClickNextHandler = (nextPage) => {\r\n\r\n        this.props.showNextUsers()\r\n        this.getUsersFromServer(nextPage,this.props.pagingSize)\r\n    }\r\n\r\n    onClickLastHandler = (lastPage) => {\r\n\r\n        this.props.showLastUsers()\r\n        this.getUsersFromServer(lastPage,this.props.pagingSize)\r\n    }\r\n\r\n    render() {\r\n        let pageCount = Math.ceil(this.props.totalUsersCount/this.props.pagingSize)\r\n        debugger\r\n        let arrPages = []\r\n        for (let i=1; i<= pageCount; i++) {\r\n            arrPages.push(i)\r\n        }\r\n        //let newUsers = this.props.users.slice(this.props.startPosition, this.props.startPosition + this.props.pagingSize)\r\n        return <Users pageCount={pageCount}\r\n                      arrPages={arrPages}\r\n\r\n                      onClickLastHandler={this.onClickLastHandler}\r\n                      onClickNextHandler={this.onClickNextHandler}\r\n                      onPageChanged={this.onPageChanged}\r\n        />\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default UserClass"]},"metadata":{},"sourceType":"module"}