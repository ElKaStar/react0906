{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\u0421\\u0435\\u043C\\u0435\\u043D \\u0422\\u0438\\u0442\\u043E\\u0432\\\\WebstormProjects\\\\react0906\\\\src\\\\components\\\\Users\\\\Users\\u0421.jsx\";\nimport React from 'react';\nimport st from './Users.module.css';\nimport User from \"./User\";\nimport * as axios from 'axios';\n\nclass UserClass extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.onPageChanged = itemNumber => {\n      this.props.setCurrentPage(itemNumber);\n      axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${this.props.currentPage}&count=${this.props.pagingSize}`).then(response => {\n        let newArrUsers = [];\n        response.data.items.map(item => {\n          newArrUsers.push({\n            id: item.id,\n            name: item.name,\n            message: '',\n            birthday: 'n/a',\n            country: 'Russia',\n            city: 'Stp',\n            follow: item.followed\n          });\n        });\n      });\n    };\n\n    this.onClickNextHandler = () => {\n      this.props.showNextUsers();\n    };\n\n    this.onClickLastHandler = () => {\n      this.props.showLastUsers();\n    };\n  }\n\n  componentDidMount() {\n    axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${this.props.currentPage}&count=${this.props.pagingSize}`).then(response => {\n      let newArrUsers = [];\n      response.data.items.map(item => {\n        newArrUsers.push({\n          id: item.id,\n          name: item.name,\n          message: '',\n          birthday: 'n/a',\n          country: 'Russia',\n          city: 'Stp',\n          follow: item.followed\n        });\n      });\n      debugger;\n      this.props.setUsers(newArrUsers, response.data.totalCount);\n    });\n  }\n\n  render() {\n    let pageCount = Math.ceil(this.props.totalUsersCount / this.props.pagingSize);\n    debugger;\n    let arrPages = [];\n\n    for (let i = 1; i <= pageCount; i++) {\n      arrPages.push(i);\n    }\n\n    let newUsers = this.props.users.slice(this.props.startPosition, this.props.startPosition + this.props.pagingSize);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: st.users,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: st.whole_style,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 21\n      }\n    }, this.props.users.length === 0 ? 'Users are loading...' : /*#__PURE__*/React.createElement(User, {\n      users: newUsers,\n      addFollow: this.props.addFollow,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 82\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: st.buttons,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.onClickLastHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 21\n      }\n    }, \"Last\"), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: this.onClickNextHandler,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 21\n      }\n    }, \"Next\")), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }\n    }, arrPages.map(itemNumber => {\n      return /*#__PURE__*/React.createElement(\"span\", {\n        onClick: () => {\n          this.onPageChanged(itemNumber);\n        },\n        className: itemNumber === this.props.currentPage && st.selectedPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 25\n        }\n      }, itemNumber, \" \");\n    })));\n  }\n\n}\n\nexport default UserClass;","map":{"version":3,"sources":["C:/Users/Семен Титов/WebstormProjects/react0906/src/components/Users/UsersС.jsx"],"names":["React","st","User","axios","UserClass","Component","constructor","props","onPageChanged","itemNumber","setCurrentPage","get","currentPage","pagingSize","then","response","newArrUsers","data","items","map","item","push","id","name","message","birthday","country","city","follow","followed","onClickNextHandler","showNextUsers","onClickLastHandler","showLastUsers","componentDidMount","setUsers","totalCount","render","pageCount","Math","ceil","totalUsersCount","arrPages","i","newUsers","users","slice","startPosition","whole_style","length","addFollow","buttons","selectedPage"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport st from './Users.module.css'\r\nimport User from \"./User\";\r\nimport * as axios from 'axios'\r\n\r\nclass UserClass extends React.Component  {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\ncomponentDidMount() {\r\n    axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${this.props.currentPage}&count=${this.props.pagingSize}`)\r\n        .then(response => {\r\n\r\n            let newArrUsers = []\r\n            response.data.items.map((item) => {\r\n                newArrUsers.push({\r\n                    id: item.id,\r\n                    name: item.name,\r\n                    message: '',\r\n                    birthday: 'n/a',\r\n                    country: 'Russia',\r\n                    city: 'Stp',\r\n                    follow: item.followed\r\n                })\r\n            })\r\n            debugger\r\n            this.props.setUsers(newArrUsers, response.data.totalCount)\r\n        })\r\n}\r\n\r\n    onPageChanged = (itemNumber) => {\r\n        this.props.setCurrentPage(itemNumber)\r\n        axios.get(`https://social-network.samuraijs.com/api/1.0/users?page=${this.props.currentPage}&count=${this.props.pagingSize}`)\r\n            .then(response => {\r\n\r\n                let newArrUsers = []\r\n                response.data.items.map((item) => {\r\n                    newArrUsers.push({\r\n                        id: item.id,\r\n                        name: item.name,\r\n                        message: '',\r\n                        birthday: 'n/a',\r\n                        country: 'Russia',\r\n                        city: 'Stp',\r\n                        follow: item.followed\r\n                    })\r\n                })\r\n\r\n            })\r\n    }\r\n\r\n\r\n\r\n    onClickNextHandler = () => {\r\n\r\n        this.props.showNextUsers()\r\n    }\r\n\r\n    onClickLastHandler = () => {\r\n\r\n        this.props.showLastUsers()\r\n    }\r\n\r\n    render() {\r\n        let pageCount = Math.ceil(this.props.totalUsersCount/this.props.pagingSize)\r\n        debugger\r\n        let arrPages = []\r\n        for (let i=1; i<= pageCount; i++) {\r\n            arrPages.push(i)\r\n        }\r\n        let newUsers = this.props.users.slice(this.props.startPosition, this.props.startPosition + this.props.pagingSize)\r\n        return (\r\n            <div className={st.users}>\r\n\r\n                <div>\r\n                    <div className={st.whole_style}>\r\n                        {(this.props.users.length === 0? 'Users are loading...' :<User users={newUsers} addFollow={this.props.addFollow}/>)}\r\n                    </div>\r\n                </div>\r\n                <div className={st.buttons}>\r\n                    <button onClick={this.onClickLastHandler}>Last</button>\r\n                    <button onClick={this.onClickNextHandler}>Next</button>\r\n                </div>\r\n                <div>\r\n                    {arrPages.map((itemNumber) => {\r\n                        return (\r\n                        <span onClick={() => {this.onPageChanged(itemNumber)}} className={itemNumber === this.props.currentPage && st.selectedPage}>{itemNumber} </span>\r\n                    )})}\r\n                </div>\r\n            </div>\r\n\r\n        )\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default UserClass"]},"metadata":{},"sourceType":"module"}