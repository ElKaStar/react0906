{"ast":null,"code":"import _classCallCheck from\"C:\\\\Users\\\\licos\\\\WebstormProjects\\\\react\\\\react0906\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\Users\\\\licos\\\\WebstormProjects\\\\react\\\\react0906\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _inherits from\"C:\\\\Users\\\\licos\\\\WebstormProjects\\\\react\\\\react0906\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import _createSuper from\"C:\\\\Users\\\\licos\\\\WebstormProjects\\\\react\\\\react0906\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createSuper\";import React from'react';import Users from\"./Users\";import{connect}from\"react-redux\";import{addFollow,getCurrentUserID,getUsersThunkCreator,setCurrentPage,setFetching,setFollowingInProgress,setFollowThunkCreator,setUnfollowThunkCreator,setUsers,showLastUsers,showNextUsers}from\"../../Redux/users-reducer\";import*as axios from\"axios\";import Loader from'./loader';import User from\"./User\";import{Redirect}from\"react-router-dom\";import{withAuthRedirect}from\"../../HOC/withAuthRedirect\";import{compose}from\"redux\";import{getCurrentPage,getCurrentUserIDS,getFollowingInProgress,getIsAuth,getIsFetching,getPageSize,getStartPosition,getTotalUsersCount,getUsers,getUserSpecial}from\"../../Redux/users-selectors\";var UserClass=/*#__PURE__*/function(_React$Component){_inherits(UserClass,_React$Component);var _super=_createSuper(UserClass);function UserClass(props){var _this;_classCallCheck(this,UserClass);_this=_super.call(this,props);_this.getUsersFromServer=function(pageNumber,pageSize){_this.props.getUsersThunkCreator(pageNumber,pageSize);};_this.onPageChanged=function(itemNumber){_this.props.setCurrentPage(itemNumber);_this.getUsersFromServer(itemNumber,_this.props.pagingSize);};_this.setCurrentUserID=function(id){_this.props.getCurrentUserID(id);};_this.onClickNextHandler=function(nextPage){_this.props.showNextUsers();_this.getUsersFromServer(nextPage,_this.props.pagingSize);};_this.onClickLastHandler=function(lastPage){_this.props.showLastUsers();_this.getUsersFromServer(lastPage,_this.props.pagingSize);};return _this;}_createClass(UserClass,[{key:\"componentDidMount\",value:function componentDidMount(){this.getUsersFromServer(this.props.currentPage,this.props.pagingSize);}},{key:\"render\",value:function render(){var pageCount=Math.ceil(this.props.totalUsersCount/this.props.pagingSize);var arrPages=[];for(var i=1;i<=pageCount;i++){arrPages.push(i);}//let newUsers = this.props.users.slice(this.props.startPosition, this.props.startPosition + this.props.pagingSize)\nreturn/*#__PURE__*/React.createElement(\"div\",null,this.props.isFetching?/*#__PURE__*/React.createElement(Loader,null):/*#__PURE__*/React.createElement(Users,{pageCount:pageCount,arrPages:arrPages,userPage:this.props,onClickLastHandler:this.onClickLastHandler,onClickNextHandler:this.onClickNextHandler,onPageChanged:this.onPageChanged,setCurrentUserID:this.setCurrentUserID,setFollowingInProgress:this.props.setFollowingInProgress,setFollowThunkCreator:this.props.setFollowThunkCreator,setUnfollowThunkCreator:this.props.setUnfollowThunkCreator}));}}]);return UserClass;}(React.Component);// let mapStateToProps = (state) => {\n//     console.log(state);\n//     return {\n//         users: state.users.users,\n//         pagingSize: state.users.pagingSize,\n//         startPosition: state.users.startPosition,\n//         totalUsersCount: state.users.totalUsersCount,\n//         currentPage: state.users.currentPage,\n//         isFetching: state.users.isFetching,\n//         currentUserID: state.users.currentUserID,\n//         followingInProgress: state.users.followingInProgress,\n//         isAuth: state.auth.isAuth\n//     }\n// }\nvar mapStateToProps=function mapStateToProps(state){console.log(state);return{users:getUsers(state),pagingSize:getPageSize(state),startPosition:getStartPosition(state),totalUsersCount:getTotalUsersCount(state),currentPage:getCurrentPage(state),isFetching:getIsFetching(state),currentUserID:getCurrentUserIDS(state),followingInProgress:getFollowingInProgress(state),isAuth:getIsAuth(state)};};// let mapDispatchToProps = (dispatch) => {\n//     return {\n//         showNextUsers: () => {dispatch(showNextUsersActionCreator())},\n//         showLastUsers: () => {dispatch(showLastUsersActionCreator())},\n//         addFollow: (id) => {dispatch(addFollowActionCreator(id))},\n//         setUsers: (newUsers, totalUsersCount) => {dispatch(addNewUsersActionCreator(newUsers, totalUsersCount))},\n//         setCurrentPage: (newCurrentPage) => {dispatch(setCurrentPageActionCreator(newCurrentPage))},\n//         setFetching: (isFetching) => {dispatch(setFetchingActionCreator(isFetching))}\n//     }\n// }\n//let AuthRedirectComponent = withAuthRedirect(UserClass)\n//const UsersContainer = connect(mapStateToProps,\n//     {\n//         showNextUsers,\n//         showLastUsers,\n//         addFollow,\n//         setUsers,\n//         setCurrentPage,\n//         setFetching,\n//         getCurrentUserID,\n//         setFollowingInProgress,\n//         getUsersThunkCreator,\n//         setFollowThunkCreator,\n//         setUnfollowThunkCreator\n//     }\n//     )(AuthRedirectComponent)\nvar UsersContainer=compose(connect(mapStateToProps,{showNextUsers:showNextUsers,showLastUsers:showLastUsers,addFollow:addFollow,setUsers:setUsers,setCurrentPage:setCurrentPage,setFetching:setFetching,getCurrentUserID:getCurrentUserID,setFollowingInProgress:setFollowingInProgress,getUsersThunkCreator:getUsersThunkCreator,setFollowThunkCreator:setFollowThunkCreator,setUnfollowThunkCreator:setUnfollowThunkCreator,getUserSpecial:getUserSpecial}),withAuthRedirect)(UserClass);export default UsersContainer;","map":{"version":3,"sources":["C:/Users/licos/WebstormProjects/react/react0906/src/components/Users/UsersContainer.jsx"],"names":["React","Users","connect","addFollow","getCurrentUserID","getUsersThunkCreator","setCurrentPage","setFetching","setFollowingInProgress","setFollowThunkCreator","setUnfollowThunkCreator","setUsers","showLastUsers","showNextUsers","axios","Loader","User","Redirect","withAuthRedirect","compose","getCurrentPage","getCurrentUserIDS","getFollowingInProgress","getIsAuth","getIsFetching","getPageSize","getStartPosition","getTotalUsersCount","getUsers","getUserSpecial","UserClass","props","getUsersFromServer","pageNumber","pageSize","onPageChanged","itemNumber","pagingSize","setCurrentUserID","id","onClickNextHandler","nextPage","onClickLastHandler","lastPage","currentPage","pageCount","Math","ceil","totalUsersCount","arrPages","i","push","isFetching","Component","mapStateToProps","state","console","log","users","startPosition","currentUserID","followingInProgress","isAuth","UsersContainer"],"mappings":"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","sourcesContent":["import React from 'react'\r\nimport Users from \"./Users\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    addFollow, getCurrentUserID, getUsersThunkCreator,\r\n    setCurrentPage,\r\n    setFetching, setFollowingInProgress, setFollowThunkCreator, setUnfollowThunkCreator,\r\n    setUsers,\r\n    showLastUsers,\r\n    showNextUsers\r\n} from \"../../Redux/users-reducer\";\r\nimport * as axios from \"axios\";\r\nimport Loader from './loader'\r\nimport User from \"./User\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage, getCurrentUserIDS, getFollowingInProgress, getIsAuth,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getStartPosition,\r\n    getTotalUsersCount,\r\n    getUsers, getUserSpecial\r\n} from \"../../Redux/users-selectors\";\r\n\r\n\r\n\r\nclass UserClass extends React.Component  {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\n    getUsersFromServer = (pageNumber, pageSize) => {\r\n        this.props.getUsersThunkCreator(pageNumber, pageSize);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getUsersFromServer(this.props.currentPage,this.props.pagingSize)\r\n    }\r\n\r\n    onPageChanged = (itemNumber) => {\r\n        this.props.setCurrentPage(itemNumber)\r\n        this.getUsersFromServer(itemNumber,this.props.pagingSize)\r\n    }\r\n setCurrentUserID = (id) => {\r\n        this.props.getCurrentUserID(id)\r\n }\r\n\r\n\r\n    onClickNextHandler = (nextPage) => {\r\n\r\n        this.props.showNextUsers()\r\n        this.getUsersFromServer(nextPage,this.props.pagingSize)\r\n    }\r\n\r\n    onClickLastHandler = (lastPage) => {\r\n\r\n        this.props.showLastUsers()\r\n        this.getUsersFromServer(lastPage,this.props.pagingSize)\r\n    }\r\n\r\n    render() {\r\n        let pageCount = Math.ceil(this.props.totalUsersCount/this.props.pagingSize)\r\n        let arrPages = []\r\n        for (let i=1; i<= pageCount; i++) {\r\n            arrPages.push(i)\r\n        }\r\n        //let newUsers = this.props.users.slice(this.props.startPosition, this.props.startPosition + this.props.pagingSize)\r\n\r\n\r\n            return (\r\n                <div>\r\n                    {this.props.isFetching ? <Loader/> : <Users pageCount={pageCount}\r\n                                                                arrPages={arrPages}\r\n                                                                userPage={this.props}\r\n                                                                onClickLastHandler={this.onClickLastHandler}\r\n                                                                onClickNextHandler={this.onClickNextHandler}\r\n                                                                onPageChanged={this.onPageChanged}\r\n                                                                setCurrentUserID={this.setCurrentUserID}\r\n                                                                setFollowingInProgress={this.props.setFollowingInProgress}\r\n                                                                setFollowThunkCreator={this.props.setFollowThunkCreator}\r\n                                                                setUnfollowThunkCreator={this.props.setUnfollowThunkCreator}\r\n\r\n                    />}\r\n                </div>)\r\n        }\r\n\r\n\r\n\r\n}\r\n\r\n// let mapStateToProps = (state) => {\r\n//     console.log(state);\r\n//     return {\r\n//         users: state.users.users,\r\n//         pagingSize: state.users.pagingSize,\r\n//         startPosition: state.users.startPosition,\r\n//         totalUsersCount: state.users.totalUsersCount,\r\n//         currentPage: state.users.currentPage,\r\n//         isFetching: state.users.isFetching,\r\n//         currentUserID: state.users.currentUserID,\r\n//         followingInProgress: state.users.followingInProgress,\r\n//         isAuth: state.auth.isAuth\r\n//     }\r\n// }\r\nlet mapStateToProps = (state) => {\r\n    console.log(state);\r\n    return {\r\n        users: getUsers(state),\r\n        pagingSize: getPageSize(state),\r\n        startPosition: getStartPosition(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        currentUserID: getCurrentUserIDS(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        isAuth: getIsAuth(state)\r\n    }\r\n}\r\n\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         showNextUsers: () => {dispatch(showNextUsersActionCreator())},\r\n//         showLastUsers: () => {dispatch(showLastUsersActionCreator())},\r\n//         addFollow: (id) => {dispatch(addFollowActionCreator(id))},\r\n//         setUsers: (newUsers, totalUsersCount) => {dispatch(addNewUsersActionCreator(newUsers, totalUsersCount))},\r\n//         setCurrentPage: (newCurrentPage) => {dispatch(setCurrentPageActionCreator(newCurrentPage))},\r\n//         setFetching: (isFetching) => {dispatch(setFetchingActionCreator(isFetching))}\r\n//     }\r\n// }\r\n\r\n//let AuthRedirectComponent = withAuthRedirect(UserClass)\r\n\r\n\r\n\r\n//const UsersContainer = connect(mapStateToProps,\r\n//     {\r\n//         showNextUsers,\r\n//         showLastUsers,\r\n//         addFollow,\r\n//         setUsers,\r\n//         setCurrentPage,\r\n//         setFetching,\r\n//         getCurrentUserID,\r\n//         setFollowingInProgress,\r\n//         getUsersThunkCreator,\r\n//         setFollowThunkCreator,\r\n//         setUnfollowThunkCreator\r\n//     }\r\n//     )(AuthRedirectComponent)\r\n\r\nconst UsersContainer = compose(\r\n    connect(mapStateToProps,\r\n        {\r\n            showNextUsers,\r\n            showLastUsers,\r\n            addFollow,\r\n            setUsers,\r\n            setCurrentPage,\r\n            setFetching,\r\n            getCurrentUserID,\r\n            setFollowingInProgress,\r\n            getUsersThunkCreator,\r\n            setFollowThunkCreator,\r\n            setUnfollowThunkCreator,\r\n            getUserSpecial}),\r\n            withAuthRedirect\r\n)(UserClass)\r\n\r\nexport default UsersContainer"]},"metadata":{},"sourceType":"module"}