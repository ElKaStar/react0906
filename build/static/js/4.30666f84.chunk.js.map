{"version":3,"sources":["../node_modules/reselect/es/index.js","Redux/users-selectors.js","components/Users/UsersContainer.jsx"],"names":["defaultEqualityCheck","a","b","areArgumentsShallowlyEqual","equalityCheck","prev","next","length","i","getDependencies","funcs","dependencies","Array","isArray","every","dep","dependencyTypes","map","join","Error","createSelector","memoize","_len","arguments","memoizeOptions","_key","_len2","_key2","recomputations","resultFunc","pop","memoizedResultFunc","apply","undefined","concat","selector","params","push","resetRecomputations","createSelectorCreator","func","lastArgs","lastResult","getUsers","state","users","getPageSize","pagingSize","getStartPosition","startPosition","getTotalUsersCount","totalUsersCount","getCurrentPage","currentPage","getIsFetching","isFetching","getCurrentUserIDS","currentUserID","getFollowingInProgress","followingInProgress","getIsAuth","auth","isAuth","getUserSpecial","filter","u","UserClass","props","getUsersFromServer","pageNumber","pageSize","getUsersThunkCreator","onPageChanged","itemNumber","setCurrentPage","setCurrentUserID","id","getCurrentUserID","onClickNextHandler","nextPage","showNextUsers","onClickLastHandler","lastPage","showLastUsers","this","pageCount","Math","ceil","arrPages","Users","userPage","setFollowingInProgress","setFollowThunkCreator","setUnfollowThunkCreator","React","Component","UsersContainer","compose","connect","console","log","addFollow","setUsers","setFetching","withAuthRedirect"],"mappings":"oOAAA,SAASA,EAAqBC,EAAGC,GAC/B,OAAOD,IAAMC,EAGf,SAASC,EAA2BC,EAAeC,EAAMC,GACvD,GAAa,OAATD,GAA0B,OAATC,GAAiBD,EAAKE,SAAWD,EAAKC,OACzD,OAAO,EAKT,IADA,IAAIA,EAASF,EAAKE,OACTC,EAAI,EAAGA,EAAID,EAAQC,IAC1B,IAAKJ,EAAcC,EAAKG,GAAIF,EAAKE,IAC/B,OAAO,EAIX,OAAO,EAoBT,SAASC,EAAgBC,GACvB,IAAIC,EAAeC,MAAMC,QAAQH,EAAM,IAAMA,EAAM,GAAKA,EAExD,IAAKC,EAAaG,OAAM,SAAUC,GAChC,MAAsB,oBAARA,KACZ,CACF,IAAIC,EAAkBL,EAAaM,KAAI,SAAUF,GAC/C,cAAcA,KACbG,KAAK,MACR,MAAM,IAAIC,MAAM,wGAAgHH,EAAkB,KAGpJ,OAAOL,EAiDF,IAAIS,EA9CJ,SAA+BC,GACpC,IAAK,IAAIC,EAAOC,UAAUhB,OAAQiB,EAAiBZ,MAAMU,EAAO,EAAIA,EAAO,EAAI,GAAIG,EAAO,EAAGA,EAAOH,EAAMG,IACxGD,EAAeC,EAAO,GAAKF,UAAUE,GAGvC,OAAO,WACL,IAAK,IAAIC,EAAQH,UAAUhB,OAAQG,EAAQE,MAAMc,GAAQC,EAAQ,EAAGA,EAAQD,EAAOC,IACjFjB,EAAMiB,GAASJ,UAAUI,GAG3B,IAAIC,EAAiB,EACjBC,EAAanB,EAAMoB,MACnBnB,EAAeF,EAAgBC,GAE/BqB,EAAqBV,EAAQW,WAAMC,EAAW,CAAC,WAGjD,OAFAL,IAEOC,EAAWG,MAAM,KAAMT,aAC7BW,OAAOV,IAGNW,EAAWd,GAAQ,WAIrB,IAHA,IAAIe,EAAS,GACT7B,EAASI,EAAaJ,OAEjBC,EAAI,EAAGA,EAAID,EAAQC,IAE1B4B,EAAOC,KAAK1B,EAAaH,GAAGwB,MAAM,KAAMT,YAI1C,OAAOQ,EAAmBC,MAAM,KAAMI,MAWxC,OARAD,EAASN,WAAaA,EACtBM,EAASxB,aAAeA,EACxBwB,EAASP,eAAiB,WACxB,OAAOA,GAETO,EAASG,oBAAsB,WAC7B,OAAOV,EAAiB,GAEnBO,GAIiBI,EA9ErB,SAAwBC,GAC7B,IAAIpC,EAAgBmB,UAAUhB,OAAS,QAAsB0B,IAAjBV,UAAU,GAAmBA,UAAU,GAAKvB,EAEpFyC,EAAW,KACXC,EAAa,KAEjB,OAAO,WAOL,OANKvC,EAA2BC,EAAeqC,EAAUlB,aAEvDmB,EAAaF,EAAKR,MAAM,KAAMT,YAGhCkB,EAAWlB,UACJmB,MC/BJ,IAAMC,EAAW,SAACC,GACrB,OAAOA,EAAMC,MAAMA,OAIVC,EAAc,SAACF,GACxB,OAAOA,EAAMC,MAAME,YAIVC,EAAmB,SAACJ,GAC7B,OAAOA,EAAMC,MAAMI,eAGVC,EAAqB,SAACN,GAC/B,OAAOA,EAAMC,MAAMM,iBAGVC,EAAiB,SAACR,GAC3B,OAAOA,EAAMC,MAAMQ,aAGVC,EAAgB,SAACV,GAC1B,OAAOA,EAAMC,MAAMU,YAGVC,EAAoB,SAACZ,GAC9B,OAAOA,EAAMC,MAAMY,eAGVC,EAAyB,SAACd,GACnC,OAAOA,EAAMC,MAAMc,qBAIVC,EAAY,SAAChB,GACtB,OAAOA,EAAMiB,KAAKC,QAGTC,EAAiB3C,EAAgBuB,GAAS,SAACE,GAEpD,OAAOA,EAAMmB,QAAO,SAAAC,GAAC,OAAI,QCfvBC,E,kDAEF,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAIVC,mBAAqB,SAACC,EAAYC,GAC9B,EAAKH,MAAMI,qBAAqBF,EAAYC,IAN7B,EAanBE,cAAgB,SAACC,GACb,EAAKN,MAAMO,eAAeD,GAC1B,EAAKL,mBAAmBK,EAAW,EAAKN,MAAMpB,aAf/B,EAiBtB4B,iBAAmB,SAACC,GACb,EAAKT,MAAMU,iBAAiBD,IAlBb,EAsBnBE,mBAAqB,SAACC,GAElB,EAAKZ,MAAMa,gBACX,EAAKZ,mBAAmBW,EAAS,EAAKZ,MAAMpB,aAzB7B,EA4BnBkC,mBAAqB,SAACC,GAElB,EAAKf,MAAMgB,gBACX,EAAKf,mBAAmBc,EAAS,EAAKf,MAAMpB,aA/B7B,E,gEAUfqC,KAAKhB,mBAAmBgB,KAAKjB,MAAMd,YAAY+B,KAAKjB,MAAMpB,c,+BA2B1D,IAFA,IAAIsC,EAAYC,KAAKC,KAAKH,KAAKjB,MAAMhB,gBAAgBiC,KAAKjB,MAAMpB,YAC5DyC,EAAW,GACNhF,EAAE,EAAGA,GAAI6E,EAAW7E,IACzBgF,EAASnD,KAAK7B,GAKd,OACI,6BACK4E,KAAKjB,MAAMZ,WAAa,kBAAC,IAAD,MAAY,kBAACkC,EAAA,EAAD,CAAOJ,UAAWA,EACXG,SAAUA,EACVE,SAAUN,KAAKjB,MACfc,mBAAoBG,KAAKH,mBACzBH,mBAAoBM,KAAKN,mBACzBN,cAAeY,KAAKZ,cACpBG,iBAAkBS,KAAKT,iBACvBgB,uBAAwBP,KAAKjB,MAAMwB,uBACnCC,sBAAuBR,KAAKjB,MAAMyB,sBAClCC,wBAAyBT,KAAKjB,MAAM0B,+B,GAxD5EC,IAAMC,WA+HxBC,EAAiBC,YACnBC,aAhDkB,SAACtD,GAEnB,OADAuD,QAAQC,IAAIxD,GACL,CACHC,MAAOF,EAASC,GAChBG,WAAYD,EAAYF,GACxBK,cAAeD,EAAiBJ,GAChCO,gBAAiBD,EAAmBN,GACpCS,YAAaD,EAAeR,GAC5BW,WAAYD,EAAcV,GAC1Ba,cAAeD,EAAkBZ,GACjCe,oBAAqBD,EAAuBd,GAC5CkB,OAAQF,EAAUhB,MAsClB,CACIoC,kBACAG,kBACAkB,cACAC,aACA5B,mBACA6B,gBACA1B,qBACAc,2BACApB,yBACAqB,0BACAC,4BACA9B,mBACAyC,IAfWP,CAgBrB/B,GAEa8B","file":"static/js/4.30666f84.chunk.js","sourcesContent":["function defaultEqualityCheck(a, b) {\n  return a === b;\n}\n\nfunction areArgumentsShallowlyEqual(equalityCheck, prev, next) {\n  if (prev === null || next === null || prev.length !== next.length) {\n    return false;\n  }\n\n  // Do this in a for loop (and not a `forEach` or an `every`) so we can determine equality as fast as possible.\n  var length = prev.length;\n  for (var i = 0; i < length; i++) {\n    if (!equalityCheck(prev[i], next[i])) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\nexport function defaultMemoize(func) {\n  var equalityCheck = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : defaultEqualityCheck;\n\n  var lastArgs = null;\n  var lastResult = null;\n  // we reference arguments instead of spreading them for performance reasons\n  return function () {\n    if (!areArgumentsShallowlyEqual(equalityCheck, lastArgs, arguments)) {\n      // apply arguments instead of spreading for performance.\n      lastResult = func.apply(null, arguments);\n    }\n\n    lastArgs = arguments;\n    return lastResult;\n  };\n}\n\nfunction getDependencies(funcs) {\n  var dependencies = Array.isArray(funcs[0]) ? funcs[0] : funcs;\n\n  if (!dependencies.every(function (dep) {\n    return typeof dep === 'function';\n  })) {\n    var dependencyTypes = dependencies.map(function (dep) {\n      return typeof dep;\n    }).join(', ');\n    throw new Error('Selector creators expect all input-selectors to be functions, ' + ('instead received the following types: [' + dependencyTypes + ']'));\n  }\n\n  return dependencies;\n}\n\nexport function createSelectorCreator(memoize) {\n  for (var _len = arguments.length, memoizeOptions = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    memoizeOptions[_key - 1] = arguments[_key];\n  }\n\n  return function () {\n    for (var _len2 = arguments.length, funcs = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      funcs[_key2] = arguments[_key2];\n    }\n\n    var recomputations = 0;\n    var resultFunc = funcs.pop();\n    var dependencies = getDependencies(funcs);\n\n    var memoizedResultFunc = memoize.apply(undefined, [function () {\n      recomputations++;\n      // apply arguments instead of spreading for performance.\n      return resultFunc.apply(null, arguments);\n    }].concat(memoizeOptions));\n\n    // If a selector is called with the exact same arguments we don't need to traverse our dependencies again.\n    var selector = memoize(function () {\n      var params = [];\n      var length = dependencies.length;\n\n      for (var i = 0; i < length; i++) {\n        // apply arguments instead of spreading and mutate a local list of params for performance.\n        params.push(dependencies[i].apply(null, arguments));\n      }\n\n      // apply arguments instead of spreading for performance.\n      return memoizedResultFunc.apply(null, params);\n    });\n\n    selector.resultFunc = resultFunc;\n    selector.dependencies = dependencies;\n    selector.recomputations = function () {\n      return recomputations;\n    };\n    selector.resetRecomputations = function () {\n      return recomputations = 0;\n    };\n    return selector;\n  };\n}\n\nexport var createSelector = createSelectorCreator(defaultMemoize);\n\nexport function createStructuredSelector(selectors) {\n  var selectorCreator = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : createSelector;\n\n  if (typeof selectors !== 'object') {\n    throw new Error('createStructuredSelector expects first argument to be an object ' + ('where each property is a selector, instead received a ' + typeof selectors));\n  }\n  var objectKeys = Object.keys(selectors);\n  return selectorCreator(objectKeys.map(function (key) {\n    return selectors[key];\n  }), function () {\n    for (var _len3 = arguments.length, values = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      values[_key3] = arguments[_key3];\n    }\n\n    return values.reduce(function (composition, value, index) {\n      composition[objectKeys[index]] = value;\n      return composition;\n    }, {});\n  });\n}","import {createSelector} from \"reselect\";\r\n\r\nexport const getUsers = (state) => {\r\n    return state.users.users;\r\n\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.users.pagingSize;\r\n\r\n}\r\n\r\nexport const getStartPosition = (state) => {\r\n    return state.users.startPosition;\r\n\r\n}\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.users.totalUsersCount;\r\n\r\n}\r\nexport const getCurrentPage = (state) => {\r\n    return state.users.currentPage;\r\n\r\n}\r\nexport const getIsFetching = (state) => {\r\n    return state.users.isFetching;\r\n\r\n}\r\nexport const getCurrentUserIDS = (state) => {\r\n    return state.users.currentUserID;\r\n\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.users.followingInProgress;\r\n\r\n}\r\n\r\nexport const getIsAuth = (state) => {\r\n    return state.auth.isAuth;\r\n\r\n}\r\nexport const getUserSpecial = createSelector( getUsers,(users) => {\r\n\r\n    return users.filter(u => true)\r\n\r\n})","import React from 'react'\r\nimport Users from \"./Users\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    addFollow, getCurrentUserID, getUsersThunkCreator,\r\n    setCurrentPage,\r\n    setFetching, setFollowingInProgress, setFollowThunkCreator, setUnfollowThunkCreator,\r\n    setUsers,\r\n    showLastUsers,\r\n    showNextUsers\r\n} from \"../../Redux/users-reducer\";\r\nimport * as axios from \"axios\";\r\nimport Loader from './loader'\r\nimport User from \"./User\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {withAuthRedirect} from \"../../HOC/withAuthRedirect\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage, getCurrentUserIDS, getFollowingInProgress, getIsAuth,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getStartPosition,\r\n    getTotalUsersCount,\r\n    getUsers, getUserSpecial\r\n} from \"../../Redux/users-selectors\";\r\n\r\n\r\n\r\nclass UserClass extends React.Component  {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n    }\r\n\r\n    getUsersFromServer = (pageNumber, pageSize) => {\r\n        this.props.getUsersThunkCreator(pageNumber, pageSize);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getUsersFromServer(this.props.currentPage,this.props.pagingSize)\r\n    }\r\n\r\n    onPageChanged = (itemNumber) => {\r\n        this.props.setCurrentPage(itemNumber)\r\n        this.getUsersFromServer(itemNumber,this.props.pagingSize)\r\n    }\r\n setCurrentUserID = (id) => {\r\n        this.props.getCurrentUserID(id)\r\n }\r\n\r\n\r\n    onClickNextHandler = (nextPage) => {\r\n\r\n        this.props.showNextUsers()\r\n        this.getUsersFromServer(nextPage,this.props.pagingSize)\r\n    }\r\n\r\n    onClickLastHandler = (lastPage) => {\r\n\r\n        this.props.showLastUsers()\r\n        this.getUsersFromServer(lastPage,this.props.pagingSize)\r\n    }\r\n\r\n    render() {\r\n        let pageCount = Math.ceil(this.props.totalUsersCount/this.props.pagingSize)\r\n        let arrPages = []\r\n        for (let i=1; i<= pageCount; i++) {\r\n            arrPages.push(i)\r\n        }\r\n        //let newUsers = this.props.users.slice(this.props.startPosition, this.props.startPosition + this.props.pagingSize)\r\n\r\n\r\n            return (\r\n                <div>\r\n                    {this.props.isFetching ? <Loader/> : <Users pageCount={pageCount}\r\n                                                                arrPages={arrPages}\r\n                                                                userPage={this.props}\r\n                                                                onClickLastHandler={this.onClickLastHandler}\r\n                                                                onClickNextHandler={this.onClickNextHandler}\r\n                                                                onPageChanged={this.onPageChanged}\r\n                                                                setCurrentUserID={this.setCurrentUserID}\r\n                                                                setFollowingInProgress={this.props.setFollowingInProgress}\r\n                                                                setFollowThunkCreator={this.props.setFollowThunkCreator}\r\n                                                                setUnfollowThunkCreator={this.props.setUnfollowThunkCreator}\r\n\r\n                    />}\r\n                </div>)\r\n        }\r\n\r\n\r\n\r\n}\r\n\r\n// let mapStateToProps = (state) => {\r\n//     console.log(state);\r\n//     return {\r\n//         users: state.users.users,\r\n//         pagingSize: state.users.pagingSize,\r\n//         startPosition: state.users.startPosition,\r\n//         totalUsersCount: state.users.totalUsersCount,\r\n//         currentPage: state.users.currentPage,\r\n//         isFetching: state.users.isFetching,\r\n//         currentUserID: state.users.currentUserID,\r\n//         followingInProgress: state.users.followingInProgress,\r\n//         isAuth: state.auth.isAuth\r\n//     }\r\n// }\r\nlet mapStateToProps = (state) => {\r\n    console.log(state);\r\n    return {\r\n        users: getUsers(state),\r\n        pagingSize: getPageSize(state),\r\n        startPosition: getStartPosition(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        currentUserID: getCurrentUserIDS(state),\r\n        followingInProgress: getFollowingInProgress(state),\r\n        isAuth: getIsAuth(state)\r\n    }\r\n}\r\n\r\n\r\n// let mapDispatchToProps = (dispatch) => {\r\n//     return {\r\n//         showNextUsers: () => {dispatch(showNextUsersActionCreator())},\r\n//         showLastUsers: () => {dispatch(showLastUsersActionCreator())},\r\n//         addFollow: (id) => {dispatch(addFollowActionCreator(id))},\r\n//         setUsers: (newUsers, totalUsersCount) => {dispatch(addNewUsersActionCreator(newUsers, totalUsersCount))},\r\n//         setCurrentPage: (newCurrentPage) => {dispatch(setCurrentPageActionCreator(newCurrentPage))},\r\n//         setFetching: (isFetching) => {dispatch(setFetchingActionCreator(isFetching))}\r\n//     }\r\n// }\r\n\r\n//let AuthRedirectComponent = withAuthRedirect(UserClass)\r\n\r\n\r\n\r\n//const UsersContainer = connect(mapStateToProps,\r\n//     {\r\n//         showNextUsers,\r\n//         showLastUsers,\r\n//         addFollow,\r\n//         setUsers,\r\n//         setCurrentPage,\r\n//         setFetching,\r\n//         getCurrentUserID,\r\n//         setFollowingInProgress,\r\n//         getUsersThunkCreator,\r\n//         setFollowThunkCreator,\r\n//         setUnfollowThunkCreator\r\n//     }\r\n//     )(AuthRedirectComponent)\r\n\r\nconst UsersContainer = compose(\r\n    connect(mapStateToProps,\r\n        {\r\n            showNextUsers,\r\n            showLastUsers,\r\n            addFollow,\r\n            setUsers,\r\n            setCurrentPage,\r\n            setFetching,\r\n            getCurrentUserID,\r\n            setFollowingInProgress,\r\n            getUsersThunkCreator,\r\n            setFollowThunkCreator,\r\n            setUnfollowThunkCreator,\r\n            getUserSpecial}),\r\n            withAuthRedirect\r\n)(UserClass)\r\n\r\nexport default UsersContainer"],"sourceRoot":""}